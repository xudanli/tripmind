# AI 旅行伴侣 - 测试指南

## 📋 测试清单

### 1. 基础功能测试

#### ✅ 多语言切换
- **测试步骤**：
  1. 打开应用首页
  2. 点击右上角语言切换按钮
  3. 查看界面文本是否切换到对应语言
- **预期结果**：所有文本（中文/英文）正确切换

#### ✅ 三种模式创建
- **Planner 模式**：
  1. 点击"我已有计划"
  2. 填写目的地、天数、预算等信息
  3. 点击"生成行程规划"
  4. 查看是否跳转到旅行详情页
  
- **Seeker 模式**：
  1. 点击"我想随心走走"
  2. 选择心情、体验、预算、时长
  3. 点击"为我推荐"
  4. 查看生成的推荐结果
  5. 点击"查看详情"创建旅程
  
- **Inspiration 模式**：
  1. 点击"我有灵感"
  2. 输入一句灵感（如："我想拍海底的光"）
  3. 点击"生成灵感旅程"
  4. 查看生成的灵感卡片
  5. 点击"创建旅程"

### 2. AI 人格系统测试

#### ✅ 意图识别测试
测试不同输入，观察是否正确识别类型：

| 输入 | 预期人格 | 测试方法 |
|------|----------|----------|
| "我想一个人静静" | 情感疗愈型 | 检查生成的语料和语气 |
| "我想拍城市光影" | 城市创作型 | 检查是否为摄影相关语料 |
| "我想挑战攀岩" | 极限探索型 | 检查是否为激励型语料 |
| "我想认识当地人" | 人文交流型 | 检查是否为温暖互动语料 |

#### ✅ AI 语料库测试
观察每种人格的输出是否符合其语气特征：

- **城市创作型**：应使用"光""结构""流动"等关键词
- **情感疗愈型**：应使用"慢""安静""陪伴"等关键词
- **极限探索型**：应使用"挑战""勇气""突破"等关键词
- **人文交流型**：应使用"故事""连接""文化"等关键词

### 3. 旅行详情页测试

#### ✅ Planner 模式详情页
- **测试点**：
  1. 显示详细时间表
  2. 显示任务管理
  3. 显示预算优化
  4. 显示团队协作

#### ✅ Seeker 模式详情页
- **测试点**：
  1. 显示心情笔记
  2. 显示 AI 旅行伙伴对话
  3. 显示今日推荐

#### ✅ Inspiration 模式详情页
- **测试点**：
  1. 显示灵感体验日结构
  2. 显示 Timeline（含AI叙事）
  3. 显示素材区
  4. 显示合作者笔记

### 4. DeepSeek API 集成测试

#### ✅ API 调用测试
- **测试方法**：
  1. 打开浏览器开发者工具 Console
  2. 查看网络请求
  3. 验证 API 调用是否成功
  4. 检查响应数据格式

#### ✅ Fallback 机制测试
- **测试方法**：
  1. 断网或 API 失败时
  2. 验证是否自动使用离线模拟数据
  3. 检查错误提示是否显示

### 5. 数据持久化测试

#### ✅ 旅行列表持久化
- **测试步骤**：
  1. 创建一个新旅程
  2. 刷新页面
  3. 查看旅程是否还在列表中
- **预期结果**：数据保存在 localStorage

#### ✅ 多旅程管理
- **测试步骤**：
  1. 创建多个不同模式的旅程
  2. 查看列表是否正确显示
  3. 点击删除按钮
  4. 验证删除功能

### 6. UI/UX 测试

#### ✅ 响应式设计
- 在不同屏幕尺寸下测试
- 检查移动端布局
- 检查平板端布局

#### ✅ 交互体验
- 测试所有按钮的点击效果
- 测试模态框的打开/关闭
- 测试悬浮动画效果
- 测试加载状态

## 🚀 快速测试命令

### 启动开发服务器
```bash
npm run dev
```

### 运行类型检查
```bash
npm run type-check
```

### 构建生产版本
```bash
npm run build
```

### 运行测试（如果有）
```bash
npm test
```

## 📊 测试数据

### 测试用 API Key
- DeepSeek API Key: `sk-989f235589864c379120c947d4758cac`

### 测试旅程数据
系统会自动生成模拟数据（fallback），包括：
- Planner: 3天的详细行程
- Seeker: 心情匹配的推荐
- Inspiration: 灵感转化的创意体验

## 🐛 已知问题追踪

### 待修复
- [ ] 图片上传功能
- [ ] 地图视图
- [ ] 实时协作
- [ ] 语音输入

### 已修复
- ✅ 语言切换响应问题
- ✅ 垂直文本渲染问题
- ✅ 翻译键引用问题
- ✅ 类型错误
- ✅ 删除功能

## 💡 测试技巧

1. **使用浏览器开发者工具**：
   - Console 查看日志
   - Network 监控 API 请求
   - Application 检查 localStorage

2. **测试不同语言**：
   - 点击右上角语言按钮
   - 验证所有文本是否正确翻译

3. **测试 AI 生成**：
   - 输入不同的灵感句子
   - 观察 AI 生成的内容是否符合预期人格

4. **测试数据持久化**：
   - 创建旅程后刷新页面
   - 关闭浏览器后重新打开
   - 验证数据是否保留

## 📈 性能测试

- **页面加载速度**：应该在 2 秒内完成初始渲染
- **API 响应时间**：DeepSeek API 通常在 2-5 秒内响应
- **路由切换**：应该流畅无延迟
- **动画效果**：60fps 流畅体验

## 🎯 回归测试重点

每次更新后重点测试：
1. 语言切换功能
2. 三种模式的创建流程
3. 旅行详情页的数据显示
4. AI 人格语料输出
5. 删除功能的确认对话框

