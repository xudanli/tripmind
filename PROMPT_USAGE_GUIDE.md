# æç¤ºè¯ä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜æ‰€æœ‰ AI æç¤ºè¯çš„ä½¿ç”¨æ—¶æœºã€è°ƒç”¨å…³ç³»å’Œè®¾è®¡ç›®çš„ã€‚

---

## ä¸€ã€ç³»ç»Ÿæç¤ºè¯ï¼ˆSystem Promptsï¼‰

### 1. Planner æ¨¡å¼ç³»ç»Ÿæç¤ºè¯

**æ–‡ä»¶ä½ç½®ï¼š** `src/services/deepseekAPI.ts` - `generatePlannerItinerary` å‡½æ•°

**ä½¿ç”¨æ—¶æœºï¼š**
- âœ… ç”¨æˆ·åœ¨ **Planner æ¨¡å¼** å¡«å†™å®Œè¡¨å•å¹¶ç‚¹å‡»"ç”Ÿæˆè¡Œç¨‹"æŒ‰é’®
- âœ… è°ƒç”¨æ—¶æœºï¼š`src/stores/travel.ts` ç¬¬ 142 è¡Œ

**ä»£ç è°ƒç”¨é“¾ï¼š**
```
ç”¨æˆ·ç‚¹å‡»"ç”Ÿæˆè¡Œç¨‹"æŒ‰é’®
  â†“
src/stores/travel.ts: generateItinerary('planner')
  â†“
src/services/deepseekAPI.ts: generatePlannerItinerary()
  â†“
ç³»ç»Ÿæç¤ºè¯è¢«ä½¿ç”¨ï¼šç”Ÿæˆé«˜æ•ˆã€æ•°æ®é©±åŠ¨çš„è¡Œç¨‹è§„åˆ’
```

**æç¤ºè¯ç‰¹ç‚¹ï¼š**
- é£æ ¼ï¼šé«˜æ•ˆã€ç†æ€§ã€æ•°æ®é©±åŠ¨
- å…³æ³¨ï¼šæ—¶é—´ä¼˜åŒ–ã€æˆæœ¬æ§åˆ¶ã€è·¯çº¿è§„åˆ’
- è¾“å‡ºï¼šåŒ…å«å…·ä½“æ•°å­—å’Œå»ºè®®çš„è¯¦ç»†è¡Œç¨‹

---

### 2. Seeker æ¨¡å¼ç³»ç»Ÿæç¤ºè¯

**æ–‡ä»¶ä½ç½®ï¼š** `src/services/deepseekAPI.ts` - `generateSeekerRecommendation` å‡½æ•°

**ä½¿ç”¨æ—¶æœºï¼š**
- âœ… ç”¨æˆ·åœ¨ **Seeker æ¨¡å¼** å¡«å†™å®Œå¿ƒæƒ…å’Œä½“éªŒéœ€æ±‚åç‚¹å‡»"å¼€å§‹å¯»æ‰¾"
- âœ… è°ƒç”¨æ—¶æœºï¼š`src/stores/travel.ts` ç¬¬ 179 è¡Œ

**ä»£ç è°ƒç”¨é“¾ï¼š**
```
ç”¨æˆ·å¡«å†™å¿ƒæƒ…æ•°æ®å¹¶ç‚¹å‡»"å¼€å§‹å¯»æ‰¾"
  â†“
src/stores/travel.ts: generateItinerary('seeker')
  â†“
src/services/deepseekAPI.ts: generateSeekerRecommendation()
  â†“
ç³»ç»Ÿæç¤ºè¯è¢«ä½¿ç”¨ï¼šç”Ÿæˆæ¸©æŸ”ã€æƒ…æ„Ÿå…±é¸£çš„æ—…è¡Œæ¨è
```

**æç¤ºè¯ç‰¹ç‚¹ï¼š**
- é£æ ¼ï¼šæ¸©æŸ”ã€ç†è§£ã€å……æ»¡å…³æ€€
- å…³æ³¨ï¼šç”¨æˆ·çš„æƒ…ç»ªå’Œæ„Ÿå—
- è¾“å‡ºï¼šæ¨èæ”¾æ¾èŠ‚å¥ã€èˆ’é€‚ä½“éªŒçš„ç›®çš„åœ°

**AI äººæ ¼è¯­æ°”ç¤ºä¾‹ï¼ˆå†…ç½®ï¼‰ï¼š**
```
"ä»Šå¤©å°±èµ°æ…¢ä¸€ç‚¹å§ï¼Œé£ä¼šä¸ºä½ ç•™è·¯ã€‚"
"ä½ ä¸éœ€è¦ä¸€ç›´å‹‡æ•¢ï¼Œä¹Ÿå¯ä»¥åªåšè‡ªå·±ã€‚"
"æœ‰æ—¶å€™ï¼Œæ—…è¡Œä¸æ˜¯é€ƒç¦»ï¼Œè€Œæ˜¯é è¿‘ã€‚"
```

---

### 3. Inspiration æ¨¡å¼ç³»ç»Ÿæç¤ºè¯

**æ–‡ä»¶ä½ç½®ï¼š** `src/services/deepseekAPI.ts` - `generateInspirationJourney` å‡½æ•°

**ä½¿ç”¨æ—¶æœºï¼š**
- âœ… ç”¨æˆ·åœ¨ **Inspiration æ¨¡å¼** è¾“å…¥çµæ„Ÿå¹¶ç‚¹å‡»"ç”Ÿæˆçµæ„Ÿ"
- âœ… è°ƒç”¨æ—¶æœºï¼š`src/stores/travel.ts` ç¬¬ 246 è¡Œ

**ä»£ç è°ƒç”¨é“¾ï¼š**
```
ç”¨æˆ·è¾“å…¥çµæ„Ÿæ–‡æœ¬å¹¶ç‚¹å‡»"ç”Ÿæˆçµæ„Ÿ"
  â†“
src/stores/travel.ts: generateInspiration()
  â†“
src/services/deepseekAPI.ts: generateInspirationJourney()
  â†“
ç³»ç»Ÿæç¤ºè¯è¢«ä½¿ç”¨ï¼šç”Ÿæˆåˆ›æ„ã€è¯—æ„è¡¨è¾¾çš„å¤šç›®çš„åœ°æ¨è
```

**æç¤ºè¯ç‰¹ç‚¹ï¼š**
- é£æ ¼ï¼šå¯Œæœ‰åˆ›é€ åŠ›ã€æƒ³è±¡åŠ›
- å…³æ³¨ï¼šå°†æŠ½è±¡çµæ„Ÿè½¬åŒ–ä¸ºç‹¬ç‰¹æ—…è¡Œä½“éªŒ
- è¾“å‡ºï¼š5-8 ä¸ªç›®çš„åœ°ï¼ŒåŒ…å«è¯—æ„æè¿°

**AI äººæ ¼æŒ‡å¯¼ï¼ˆå†…ç½®ï¼‰ï¼š**
```
åŸå¸‚åˆ›ä½œå‹ï¼š"å…‰åœ¨è¡—è§’åœäº†ä¸€ä¸‹ï¼Œå¥½åƒä¹Ÿåœ¨ç­‰ä½ ã€‚"
æƒ…æ„Ÿç–—æ„ˆå‹ï¼š"ä»Šå¤©å°±èµ°æ…¢ä¸€ç‚¹å§ï¼Œé£ä¼šä¸ºä½ ç•™è·¯ã€‚"
æé™æ¢ç´¢å‹ï¼š"å†ä¸€æ­¥ï¼Œä½ å°±èƒ½çœ‹åˆ°åˆ«äººæ²¡çœ‹åˆ°çš„é£æ™¯ã€‚"
```

---

## äºŒã€åŠŸèƒ½æç¤ºè¯ï¼ˆFeature Promptsï¼‰

### 4. æ„å›¾è¯†åˆ«æç¤ºè¯

**æ–‡ä»¶ä½ç½®ï¼š** `src/services/deepseekAPI.ts` - `detectInspirationIntent` å‡½æ•°

**ä½¿ç”¨æ—¶æœºï¼š**
- âš ï¸ **å½“å‰æœªåœ¨ä¸»æµç¨‹ä¸­ä½¿ç”¨**
- ğŸ”® **é¢„ç•™åŠŸèƒ½**ï¼šç”¨äºè¯†åˆ«ç”¨æˆ·è¾“å…¥çš„æ„å›¾ç±»å‹
- ğŸ¯ **æ½œåœ¨ç”¨é€”**ï¼š
  - è‡ªåŠ¨æ¨èåŒ¹é…çš„æ—…è¡Œä½“éªŒç±»å‹
  - æ ¹æ®ç”¨æˆ·è¯è¯­è‡ªåŠ¨åˆ‡æ¢ AI äººæ ¼
  - æä¾›ä¸ªæ€§åŒ–ä½“éªŒæ—¥å»ºè®®

**å‡½æ•°å®šä¹‰ï¼š**
```typescript
export async function detectInspirationIntent(
  userInput: string,
  language: string = 'zh-CN'
): Promise<any>
```

**è¿”å›å€¼ï¼š**
```json
{
  "intentType": "photography_exploration" | "mind_healing" | "nature_discovery" | ...,
  "keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
  "emotionTone": "å¹³é™",
  "description": "æ„å›¾æè¿°"
}
```

**7 ç§æ„å›¾ç±»å‹ï¼š**
- `photography_exploration`: åˆ›ä½œ/æ‹æ‘„
- `mind_healing`: ä¼‘æ¯/ç–—æ„ˆ
- `nature_discovery`: æ¢ç´¢è‡ªç„¶
- `urban_creation`: è®°å½•åŸå¸‚
- `emotional_healing`: æƒ…æ„Ÿé‡Šæ”¾
- `extreme_exploration`: æŒ‘æˆ˜è‡ªæˆ‘
- `cultural_exchange`: æ–‡åŒ–è¿æ¥

---

### 5. ä½“éªŒæ—¥ç”Ÿæˆæç¤ºè¯

**æ–‡ä»¶ä½ç½®ï¼š** `src/services/deepseekAPI.ts` - `generateExperienceDay` å‡½æ•°

**ä½¿ç”¨æ—¶æœºï¼š**
- âš ï¸ **å½“å‰æœªåœ¨ä¸»æµç¨‹ä¸­ä½¿ç”¨**
- ğŸ”® **é¢„ç•™åŠŸèƒ½**ï¼šåŸºäºæ„å›¾è¯†åˆ«ç»“æœç”Ÿæˆå®Œæ•´ä½“éªŒæ—¥
- ğŸ¯ **æ½œåœ¨ç”¨é€”**ï¼š
  - ä¸º Inspiration æ¨¡å¼ç”Ÿæˆ"ä½“éªŒæ—¥"å¡ç‰‡
  - æ ¹æ®æ„å›¾ç±»å‹è‡ªåŠ¨ç”Ÿæˆä¸»é¢˜è¡Œç¨‹
  - åˆ›å»º AI äººæ ¼åŒ–çš„æ—…è¡Œä½“éªŒ

**å‡½æ•°å®šä¹‰ï¼š**
```typescript
export async function generateExperienceDay(
  intentData: any,
  userInput?: string,
  language: string = 'zh-CN'
): Promise<any>
```

**è¿”å›æ•°æ®ç»“æ„ï¼š**
- åŒ…å«å®Œæ•´çš„æ¨¡æ¿ç³»ç»Ÿï¼ˆ7 ç§ä½“éªŒç±»å‹ï¼‰
- æ¯ä¸ªæ¨¡æ¿åŒ…å«ï¼šä¸»é¢˜ã€AI è¯­æ°”ã€æƒ…æ„Ÿæ ‡ç­¾ã€æ¨èåœ°ç‚¹ã€æ—¶é—´çº¿ç­‰
- åŒ…å« AI äººæ ¼ä¿¡æ¯ï¼ˆpersonaId, name, identity, toneProfileï¼‰

---

## ä¸‰ã€é«˜çº§åˆ›æ„æç¤ºè¯

### 6. è¯—æ„ä½“éªŒæè¿°æç¤ºè¯

**é›†æˆåœ¨ï¼š** Inspiration æ¨¡å¼ç³»ç»Ÿæç¤ºè¯ä¸­ï¼ˆ9 è¦æ±‚éƒ¨åˆ†ï¼‰

**ä½¿ç”¨æ—¶æœºï¼š**
- âœ… åœ¨ `generateInspirationJourney` ç”Ÿæˆæ¯ä¸ªç›®çš„åœ°çš„ `aiMessage` æ—¶ä½¿ç”¨
- âœ… è‡ªåŠ¨åº”ç”¨ï¼šæ— éœ€å•ç‹¬è°ƒç”¨

**æŒ‡å¯¼åŸåˆ™ï¼ˆå·²å†…ç½®ï¼‰ï¼š**
```
è¯—æ„ä½“éªŒæè¿°æŒ‡å¯¼ï¼š
- ç”¨ä¼˜ç¾çš„è¯­è¨€æè¿°æ—…è¡Œä½“éªŒ
- èå…¥è‡ªç„¶å…ƒç´ å’Œæƒ…æ„Ÿå…±é¸£
- åˆ›é€ è§†è§‰å’Œæƒ…æ„Ÿçš„è”æƒ³
- ç”¨2-3å¥è¯æç»˜

ç¤ºä¾‹é£æ ¼ï¼š
- "ä»Šå¤©çš„æµ·æ¯”æ˜¨å¤©æ›´å®‰é™ï¼Œä½ æ‰¾åˆ°äº†å±äºä½ çš„é‚£é“å…‰ã€‚"
- "é£å¾ˆå†·ï¼Œä½†è¿™å°±æ˜¯ä½ æƒ³è¦çš„æ„Ÿè§‰ã€‚"
- "å…‰åœ¨è¡—è§’åœäº†ä¸€ä¸‹ï¼Œå¥½åƒä¹Ÿåœ¨ç­‰ä½ ã€‚"
```

**åº”ç”¨ç¤ºä¾‹ï¼š**
```json
{
  "locationDetails": {
    "å·´å˜å²›": {
      "name": "å·´å˜å²›",
      "duration": "5å¤©",
      "budget": "8000-12000å…ƒ",
      "highlights": ["æ½œæ°´", "æµ·æ»©", "ç‘œä¼½"],
      "aiMessage": "ä»Šå¤©çš„æµ·æ¯”æ˜¨å¤©æ›´å®‰é™ï¼Œä½ æ‰¾åˆ°äº†å±äºä½ çš„é‚£é“å…‰ã€‚"
    }
  }
}
```

---

## å››ã€è°ƒç”¨æµç¨‹å›¾

### Planner æ¨¡å¼å®Œæ•´æµç¨‹
```
ç”¨æˆ·ç•Œé¢ (PlannerView.vue)
  â†“ ç”¨æˆ·å¡«å†™è¡¨å•
  â†“ ç‚¹å‡»"ç”Ÿæˆè¡Œç¨‹"
store/travel.ts: generateItinerary('planner')
  â†“
API: generatePlannerItinerary()
  â†“ ä½¿ç”¨ Planner ç³»ç»Ÿæç¤ºè¯
  â†“ ç”Ÿæˆè¯¦ç»†è¡Œç¨‹ JSON
store: setItineraryData()
  â†“
å±•ç¤ºåœ¨ TravelDetailView.vue
```

### Seeker æ¨¡å¼å®Œæ•´æµç¨‹
```
ç”¨æˆ·ç•Œé¢ (SeekerView.vue)
  â†“ ç”¨æˆ·å¡«å†™å¿ƒæƒ…æ•°æ®
  â†“ ç‚¹å‡»"å¼€å§‹å¯»æ‰¾"
store/travel.ts: generateItinerary('seeker')
  â†“
API: generateSeekerRecommendation()
  â†“ ä½¿ç”¨ Seeker ç³»ç»Ÿæç¤ºè¯
  â†“ ç”Ÿæˆæ¨è JSON
store: setItineraryData()
  â†“
å±•ç¤ºåœ¨ TravelDetailView.vue
```

### Inspiration æ¨¡å¼å®Œæ•´æµç¨‹
```
ç”¨æˆ·ç•Œé¢ (InspirationView.vue)
  â†“ ç”¨æˆ·è¾“å…¥çµæ„Ÿ
  â†“ ç‚¹å‡»"ç”Ÿæˆçµæ„Ÿ"
store/travel.ts: generateInspiration()
  â†“
API: generateInspirationJourney()
  â†“ ä½¿ç”¨ Inspiration ç³»ç»Ÿæç¤ºè¯
  â†“ ä½¿ç”¨è¯—æ„æè¿°æŒ‡å¯¼
  â†“ ç”Ÿæˆå¤šç›®çš„åœ°æ¨è JSON
store: setInspirationData()
  â†“
å±•ç¤ºåœ¨ InspirationView.vue
```

### é¢„ç•™åŠŸèƒ½æµç¨‹ï¼ˆæœªä½¿ç”¨ï¼‰
```
ç”¨æˆ·è¾“å…¥æ–‡æœ¬
  â†“
detectInspirationIntent()  â† è¯†åˆ«æ„å›¾ç±»å‹
  â†“ è¿”å›æ„å›¾ã€å…³é”®è¯ã€æƒ…æ„ŸåŸºè°ƒ
  â†“
generateExperienceDay()  â† ç”Ÿæˆä½“éªŒæ—¥
  â†“ åŸºäºæ„å›¾é€‰æ‹©æ¨¡æ¿
  â†“ ç”Ÿæˆå®Œæ•´ä½“éªŒæ—¥æ•°æ®
  â†“
åœ¨ Inspiration æ¨¡å¼ä¸­å±•ç¤º
```

---

## äº”ã€æç¤ºè¯è®¾è®¡ç†å¿µ

### ä¸‰å±‚æç¤ºè¯æ¶æ„

```
ç¬¬ä¸€å±‚ï¼šç³»ç»Ÿæç¤ºè¯ï¼ˆè§’è‰²å®šä½ï¼‰
â”œâ”€â”€ Plannerï¼šä¸“ä¸šè§„åˆ’å¸ˆï¼ˆæ•°æ®é©±åŠ¨ï¼‰
â”œâ”€â”€ Seekerï¼šæ¸©æŸ”é™ªä¼´è€…ï¼ˆæƒ…æ„Ÿå…±é¸£ï¼‰
â””â”€â”€ Inspirationï¼šåˆ›æ„è®¾è®¡å¸ˆï¼ˆè¯—æ„è¡¨è¾¾ï¼‰

ç¬¬äºŒå±‚ï¼šåŠŸèƒ½æç¤ºè¯ï¼ˆæ™ºèƒ½è¯†åˆ«ï¼‰
â”œâ”€â”€ æ„å›¾è¯†åˆ«ï¼šåˆ†æç”¨æˆ·çœŸå®éœ€æ±‚
â”œâ”€â”€ äººæ ¼åˆ‡æ¢ï¼šåŠ¨æ€è°ƒæ•´ AI è¯­æ°”
â””â”€â”€ ä½“éªŒç”Ÿæˆï¼šåˆ›å»ºå®Œæ•´æ—…è¡Œä½“éªŒ

ç¬¬ä¸‰å±‚ï¼šåˆ›æ„æç¤ºè¯ï¼ˆç²¾ç‚¼è¾“å‡ºï¼‰
â”œâ”€â”€ è¯—æ„æè¿°ï¼šä¼˜ç¾è¯­è¨€
â”œâ”€â”€ æ•…äº‹å™äº‹ï¼šæƒ…æ„Ÿå…±é¸£
â””â”€â”€ è§†è§‰è”æƒ³ï¼šç”»é¢æ„Ÿ
```

---

## å…­ã€æ€»ç»“è¡¨

| æç¤ºè¯ç±»å‹ | å‡½æ•°å | ä½¿ç”¨çŠ¶æ€ | è°ƒç”¨æ—¶æœº |
|-----------|--------|---------|---------|
| Planner ç³»ç»Ÿæç¤ºè¯ | `generatePlannerItinerary` | âœ… å·²ä½¿ç”¨ | ç”¨æˆ·ç‚¹å‡»"ç”Ÿæˆè¡Œç¨‹" |
| Seeker ç³»ç»Ÿæç¤ºè¯ | `generateSeekerRecommendation` | âœ… å·²ä½¿ç”¨ | ç”¨æˆ·ç‚¹å‡»"å¼€å§‹å¯»æ‰¾" |
| Inspiration ç³»ç»Ÿæç¤ºè¯ | `generateInspirationJourney` | âœ… å·²ä½¿ç”¨ | ç”¨æˆ·ç‚¹å‡»"ç”Ÿæˆçµæ„Ÿ" |
| æ„å›¾è¯†åˆ«æç¤ºè¯ | `detectInspirationIntent` | âš ï¸ é¢„ç•™ | æœªåœ¨ä¸»æµç¨‹ä½¿ç”¨ |
| ä½“éªŒæ—¥ç”Ÿæˆæç¤ºè¯ | `generateExperienceDay` | âš ï¸ é¢„ç•™ | æœªåœ¨ä¸»æµç¨‹ä½¿ç”¨ |
| è¯—æ„æè¿°æç¤ºè¯ | é›†æˆåœ¨ Inspiration | âœ… å·²ä½¿ç”¨ | è‡ªåŠ¨åº”ç”¨åœ¨ aiMessage |

---

## ä¸ƒã€æ‰©å±•å»ºè®®

### å½“å‰å¯ä¼˜åŒ–æ–¹å‘

1. **å¯ç”¨æ„å›¾è¯†åˆ«åŠŸèƒ½**
   - åœ¨ Inspiration æ¨¡å¼ä¸­å…ˆè¯†åˆ«ç”¨æˆ·æ„å›¾
   - æ ¹æ®æ„å›¾é€‰æ‹©åˆé€‚çš„ä½“éªŒç±»å‹æ¨è

2. **é›†æˆä½“éªŒæ—¥ç”Ÿæˆ**
   - ç”¨æˆ·ç‚¹å‡»æŸä¸ªæ„å›¾ç±»å‹
   - è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„å®Œæ•´ä½“éªŒæ—¥æ¨¡æ¿

3. **åŠ¨æ€äººæ ¼åˆ‡æ¢**
   - æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æƒ…ç»ªè‡ªåŠ¨é€‰æ‹© AI äººæ ¼
   - è®©å¯¹è¯æ›´å…·ä¸ªæ€§åŒ–

---

æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0  
æœ€åæ›´æ–°ï¼š2024-12-27
